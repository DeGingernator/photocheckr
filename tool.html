<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://cdn.tailwindcss.com">
  
  <link rel="prefetch" href="assets/nav.html"><link rel="prefetch" href="assets/footer.html">
  <title>PhotoCheckr - Tool</title>
  <script>tailwind.config = { darkMode: "class" }</script>
  <script>tailwind = { config: { darkMode: "class" } }</script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="assets/styles.css">
  <script type="module" src="assets/tool.js"></script>

  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="assets/favicon-48.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
  <link rel="icon" href="assets/favicon.ico">
  <link rel="manifest" href="assets/site.webmanifest">

</head>
<body class="bg-gray-900 text-gray-100 font-sans min-h-screen flex flex-col">


  <nav class="bg-gray-800 px-6 py-4 flex justify-between items-center sticky top-0 z-50 shadow" aria-label="Primary">
  <a href="index.html" class="flex items-center gap-2" aria-label="PhotoCheckr Home"><img id="nav-logo-icon" src="assets/logo-icon-white.png" alt="PhotoCheckr logo icon" class="h-8 w-8 block md:hidden"/><img id="nav-logo-full" src="assets/logo-full-white.png" alt="PhotoCheckr logo" class="h-8 hidden md:block"/></a><div class="flex items-center gap-3 ml-auto"><button id="navToggle" class="md:hidden text-gray-700 dark:text-gray-700 dark:text-gray-300 focus:outline-none focus:ring rounded px-2 py-1" aria-expanded="false" aria-controls="navMenu" aria-label="Toggle navigation">
    ☰
  </button><ul id="navMenu" class="hidden md:flex space-x-6 text-gray-700 dark:text-gray-700 dark:text-gray-700 dark:text-gray-300 mt-3 md:mt-0" role="menubar">
    <li role="none"><a role="menuitem" href="index.html" data-nav="home" class="hover:text-blue-400">Home</a></li>
    <li role="none"><a role="menuitem" href="tool.html" data-nav="tool" class="hover:text-blue-400">Tool</a></li>
    <li role="none"><a role="menuitem" href="about.html" data-nav="about" class="hover:text-blue-400">About</a></li>
    <li role="none"><a role="menuitem" href="pricing.html" data-nav="pricing" class="hover:text-blue-400">Pricing</a></li>
  </ul><button id="mode-toggle" class="flex items-center gap-1 px-3 py-1 rounded bg-gray-600 text-white hover:bg-gray-500 dark:bg-gray-300 dark:text-gray-800 dark:hover:bg-gray-200 transition"><span id="mode-icon">🌙</span><span id="mode-text">Dark</span></button></div>
</nav></div>

  <main class="flex-grow container mx-auto px-4 py-6">
    <h1 class="text-3xl font-bold text-blue-400 text-center mb-6">Compare & Annotate</h1>

    <div class="flex justify-center mb-4">
      <label for="projectTitle" class="sr-only">Project name</label>
      <input
        id="projectTitle"
        type="text"
        placeholder="Enter project name..."
        class="px-4 py-2 rounded bg-white dark:bg-gray-800 text-white border border-gray-600 w-full max-w-md text-center"
        aria-describedby="titleHelp"
      />
    </div>
    <p id="titleHelp" class="text-center text-gray-600 dark:text-gray-600 dark:text-gray-400 mb-4 text-sm">This title will be used as the PDF filename.</p>

    <div class="flex flex-wrap justify-center gap-6 mb-6">
      <div>
        <label class="block mb-2 text-blue-300 font-medium" for="beforeUpload">Before Image</label>
        <label for="beforeUpload" class="cursor-pointer bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded inline-block">
          Upload Before
        </label>
        <input type="file" id="beforeUpload" accept="image/*" class="hidden" aria-label="Upload before image">
      </div>
      <div>
        <label class="block mb-2 text-blue-300 font-medium" for="afterUpload">After Image</label>
        <label for="afterUpload" class="cursor-pointer bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded inline-block">
          Upload After
        </label>
        <input type="file" id="afterUpload" accept="image/*" class="hidden" aria-label="Upload after image">
      </div>
    </div>

    <div id="imageWrapper" class="relative bg-white border border-gray-300 dark:bg-white dark:bg-gray-800 dark:border-gray-600 rounded mb-4 overflow-hidden mx-auto max-w-4xl" aria-live="polite">
      <span id="beforeBadge" class="badge left-3">Before</span>
      <span id="afterBadge" class="badge right-3">After</span>
      <img id="beforeImg" src="" alt="Before image" class="absolute inset-0 object-contain" style="z-index: 1;" />
      <img id="afterImg" class="after-img absolute inset-0 object-contain" alt="After image" />
      <canvas id="drawCanvas" aria-label="Annotation canvas" role="img"></canvas>
    </div>

    <div class="w-full max-w-2xl mx-auto flex flex-col items-center gap-2 mb-6">
      <label for="slider" class="text-sm text-gray-700 dark:text-gray-700 dark:text-gray-300">Comparison slider</label>
      <input type="range" id="slider" min="0" max="100" value="50" class="w-full accent-blue-500 cursor-pointer" aria-valuemin="0" aria-valuemax="100" aria-valuenow="50" />
    </div>

    <div class="flex flex-wrap justify-center gap-3 mb-6">
      <button id="drawBtn" onclick="setMode('draw')" class="btn" aria-label="Enable drawing mode">✏️ Draw</button>
      <button onclick="addText()" class="btn">📝 Text</button>
      <button onclick="addCircle()" class="btn">⚪ Circle</button>
      <button onclick="addRect()" class="btn">▭ Rectangle</button>
      <button onclick="addArrow()" class="btn">➡️ Arrow</button>
      <button id="undoBtn" class="btn" aria-label="Undo (Ctrl/Cmd+Z)">↩️ Undo</button>
      <button id="redoBtn" class="btn" aria-label="Redo (Ctrl/Cmd+Shift+Z / Ctrl/Cmd+Y)">↪️ Redo</button>
      <button id="clearBtn" class="btn" aria-label="Clear annotations">🗑️ Clear</button>
      <button onclick="exportPDF()" class="btn bg-green-600 hover:bg-green-700" aria-label="Download PDF">📄 Download PDF</button>
    </div>

    <div class="flex flex-wrap justify-center gap-4 mb-10">
      <label class="text-sm text-gray-700 dark:text-gray-700 dark:text-gray-300 flex items-center gap-2" for="colorPicker">
        🎨 Color:
        <input type="color" id="colorPicker" class="h-8 w-8 rounded" value="#ffffff">
      </label>
      <label class="text-sm text-gray-700 dark:text-gray-700 dark:text-gray-300 flex items-center gap-2" for="lineWidth">
        ✍️ Line Width:
        <input type="range" id="lineWidth" min="1" max="10" value="2" class="accent-blue-500">
      </label>
      <label class="text-sm text-gray-700 dark:text-gray-700 dark:text-gray-300 flex items-center gap-2" for="qualitySelect">📄 PDF Quality:<select id="qualitySelect" class="bg-white border border-gray-300 dark:bg-white dark:bg-gray-800 dark:border-gray-600 rounded px-2 py-1"><option value="1">Screen (1x)</option><option value="2" selected>Sharp (2x)</option><option value="3">Print-ish (3x)</option></select></label><button id="saveBtn" class="btn" aria-label="Save project to browser">💾 Save</button>
      <button id="loadBtn" class="btn" aria-label="Load project from browser">📂 Load</button>
    </div>

    <section class="max-w-3xl mx-auto text-gray-600 dark:text-gray-600 dark:text-gray-400 text-sm leading-relaxed">
      <h2 class="text-blue-300 font-semibold mb-2">Tips</h2>
      <ul class="list-disc pl-6 space-y-1">
        <li>Use the slider to reveal the “After” image.</li>
        <li>Use <kbd>Ctrl/Cmd + Z</kbd> to undo and <kbd>Ctrl/Cmd + Y</kbd> or <kbd>Ctrl/Cmd + Shift + Z</kbd> to redo.</li>
        <li>Save your project in the browser and load it later.</li>
      </ul>
    </section>
  </main>

  <footer class="bg-gray-800 text-gray-400 text-center py-6 mt-12">
  &copy; 2025 PhotoCheckr. All rights reserved.
</footer>


<!-- Ko-fi Floating Button -->
<script src="https://storage.ko-fi.com/cdn/scripts/overlay-widget.js"></script>
<script>
  kofiWidgetOverlay.draw('photocheckr', {
    'type': 'floating-chat',
    'floating-chat.donateButton.text': 'Support Me',
    'floating-chat.donateButton.background-color': '#29abe0',
    'floating-chat.donateButton.text-color': '#fff'
  });
</script>





<script>
(function(){
  const html = document.documentElement;
  const modeToggle = document.getElementById('mode-toggle');
  const modeIcon = document.getElementById('mode-icon');
  const modeText = document.getElementById('mode-text');
  const logoIcon = document.getElementById('nav-logo-icon');
  const logoFull = document.getElementById('nav-logo-full');

  function setMode(mode) {
    if (mode === 'light') {
      html.classList.add('light');
      modeIcon.textContent = '🌙';
      modeText.textContent = 'Dark';
      if (logoIcon) logoIcon.src = 'assets/logo-icon.png';
      if (logoFull) logoFull.src = 'assets/logo-full.png';
    } else {
      html.classList.remove('light');
      modeIcon.textContent = '☀️';
      modeText.textContent = 'Light';
      if (logoIcon) logoIcon.src = 'assets/logo-icon-white.png';
      if (logoFull) logoFull.src = 'assets/logo-full-white.png';
    }
    localStorage.setItem('themeV2', mode);
  }

  if (modeToggle) {
    modeToggle.addEventListener('click', () => {
      const current = html.classList.contains('light') ? 'light' : 'dark';
      setMode(current === 'light' ? 'dark' : 'light');
    });
  }

  const saved = localStorage.getItem('themeV2');
  if (saved) {
    setMode(saved);
  } else {
    setMode('dark');
  }
})();
</script>

</body>
</html>
